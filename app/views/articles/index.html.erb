<div>
  <div class="my-5 mx-5">

  <%= render 'search/form' %>

  <table class="table">

    <thead>
      <tr>
        <th scope="col"></th>
        <th scope="col"><%= sort_link(@q, :title, "Title", default_order: :asc) %></th>
        <th scope="col"><%= sort_link(@q, :body, "Article Content", default_order: :desc ) %></th>
        <th scope="col"><%= sort_link(@q, :creator, "Creator") %></th>
        <th scope="col"><%= sort_link(@q, :created_at, "Created at", default_order: :asc) %></th>
        <th scope="col">Link to Article</th>
      </tr>
    </thead>

    <tbody>
      <% @articles.each do |article|%>
        <tr>
          <td><%= image_tag( article.image, height: 50, width: 50, class: "" ) if article.image.attached? %></td>
          <td><small class="pt-0"><%= truncate article.title, length: 40 %></small></td>
          <td><small ><%= truncate article.body, length: 40 %><small></td>
          <td><%= image_tag( article.creator.avatar, height: 30, width: 30, class: "rounded-circle me-2" ) if article.creator.avatar.attached? %><small><%= article.creator.username %></small></td>
          <td><small><%= article.created_at.strftime("%b %d %Y") %></small></td>
          <td><small class="pt-2"><%= link_to 'Go to', article_path(article) %></small></td>
        </tr>
      <% end %>
    </tbody>

  </table>
 
</div>
