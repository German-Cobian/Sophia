<div>
  <div class="d-flex flex-row justify-content-between mt-5">
    <% Category.find_each do |category|%>
      <div>
        <h3 class="mx-2"><%= category.topic %></h3>
        <% category.articles.each do |article|%>
          <li class="art-cont d-flex flex-column justify-content-start border h-50 py-2 px-4 mx-2 bg-light">
            <%= image_tag( article.image, height: 50, width: 50, class: "pt-3" ) if article.image.attached? %> 
            <p class="mt-3"><b><%= article.title %></b></p>
            <p><%= truncate article.body, length: 200 %></p>
            <div class="d-flex flex-row">
              <%= image_tag( article.creator.avatar, height: 30, width: 30, class: "rounded-circle" ) if article.creator.avatar.attached? %></span>
              <p class="ms-2"><%= article.creator.username%></p>
            </div>
            <p><%= link_to 'Read More', article_path(article) %></p> 
          </li>
        <% end %>
      </div> 
    
    <% end %>
  
  </div>
</div>
