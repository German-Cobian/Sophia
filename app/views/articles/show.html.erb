<div class="my-5 mx-5">

    <div class="d-flex flex-row justify-content-start">
      <%= image_tag( @article.image, height: 90, width: 90, class: "me-5" ) if @article.image.attached? %> 
      <div class="mt-3">
        <strong class="me-4"><%= @article.title %></strong>
        <small><%= @article.category.topic%></small>
      </div>
    </div>

    <div class="mt-5">
      <%= @article.body %>
    </div>

    <div class="mt-5">
      <%= image_tag( @article.user.avatar, height: 30, width: 30, class: "rounded-circle" ) if @article.user.avatar.attached? %></span>
      <%= @article.user.username %>
    </div>

    <div>
      <span class="pt-3"><strong>Votes: </strong><%= @article.votes.count %></span>
      <% vote = current_user.votes.find_by(article: @article) %>
      <% if vote.nil? %>
        <form action="/votes" method="post">
          <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
          <input type="hidden" name="vote[article_id]" value="<%= @article.id %>">
          <input type="submit" value="Upvote" class="btn btn-primary">
        </form>
      <% else %>
        <form action="<%= vote_path(vote) %>" method="post">
          <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
          <input type="hidden" name="_method" value="DELETE">
          <input type="submit" value="Downvote" class="btn btn-primary">
        </form>
      <% end %>
    </div>

  

    <div class="pt-3">
      <%= link_to 'Back', categories_path %>
    </div>

</div>
