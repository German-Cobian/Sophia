<div class="my-5 mx-5">

    <div class="d-flex flex-row justify-content-start">
      <%= image_tag( @article.image, height: 120, width: 120, class: "me-5" ) if @article.image.attached? %> 
      <div class="mt-3">
        <strong class="me-4"><%= @article.title %></strong>
        <small><%= @article.category.topic%></small>
      </div>
    </div>

    <div class="mt-5">
      <%= @article.body %>
    </div>

    <div class="mt-5">
      <%= image_tag( @article.user.avatar, height: 30, width: 30, class: "rounded-circle" ) if @article.user.avatar.attached? %></span>
      <%= @article.user.username %>
    </div>

    <div class="d-flex flex-row mt-3">
      <div class="mt-2">
        <span><strong>Votes: </strong><%= @article.votes.count %></span>
      </div>
      <% vote = current_user.votes.find_by(article: @article) %>
      <% if vote.nil? %>
        <%= button_to "Upvote", votes_path, params: { vote: {:article_id => @article.id } }, method: :post, class: "btn btn-primary ms-5" %>
      <% else %>
        <%= button_to "Downvote", vote_path(vote), method: :delete, class: "btn btn-primary ms-5" %>
      <% end %>
    </div>

    <div class="mt-3">
      <%= link_to 'Back', categories_path %>
    </div>

</div>
